{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\liamr\\\\Desktop\\\\coding_temple\\\\week_7\\\\ecommerce_website\\\\frontend\\\\src\\\\views\\\\admin\\\\index.js\";\nimport React, { Component } from 'react';\nimport './index.css';\nimport AddProductForm from '../../components/addProductForm';\nimport GetProductsTable from '../../components/getProductsTable';\nimport GetProductForm from '../../components/getProductForm';\n\nclass Admin extends Component {\n  constructor() {\n    super();\n\n    this.saveProduct = async e => {\n      e.preventDefault();\n      let title = e.target.elements.title.value;\n      let price = e.target.elements.price.value;\n      let description = e.target.elements.description.value;\n      let image_url = e.target.elements.image_url.value;\n      let URL = 'http://localhost:5000/api/save';\n      let response = await fetch(URL, {\n        \"method\": \"POST\",\n        \"headers\": {\n          \"Content-Type\": \"application/json\",\n          \"title\": title,\n          \"price\": price,\n          \"description\": description,\n          \"image_url\": image_url\n        }\n      });\n      let data = await response.json();\n\n      if (data.success) {\n        alert(\"\".concat(data.success));\n      } else if (data.error) {\n        alert(\"\".concat(data.error));\n      } else {\n        alert('Try again, sorry!');\n      }\n    };\n\n    this.getProducts = async e => {\n      e.preventDefault();\n      let title = e.target.elements.title.value;\n      let URL = 'http://localhost:5000/api/retrieve';\n      let response = await fetch(URL, {\n        \"method\": \"GET\",\n        \"headers\": {\n          \"Content-Type\": \"application/json\",\n          \"title\": title\n        }\n      });\n      let data = await response.json();\n      console.log(data);\n\n      if (data.products) {\n        //store only products into variable\n        let products = data.products;\n        this.setState({\n          products\n        });\n      }\n    };\n\n    this.deleteProduct = async id => {\n      // console.log('inside delete product');\n      // console.log();\n      if (!window.confirm('Are you sure you want to delete this product?')) {\n        return;\n      }\n\n      let URL = 'http://localhost:5000/api/delete';\n      let response = await fetch(URL, {\n        \"method\": \"DELETE\",\n        \"headers\": {\n          \"Content-Type\": \"application/json\",\n          \"product_id\": id\n        }\n      });\n      let data = await response.json();\n      console.log(data);\n\n      if (data.success) {\n        let products = this.state.products;\n        products = products.filter(product => product.product_id !== id);\n        this.setState({\n          products\n        });\n        alert('Successfully deleted the product.');\n      } else {\n        alert('Sorry, but we could not delete the product.');\n      }\n    };\n\n    this.state = {\n      'products': []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6 offset-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Add Product\"), React.createElement(AddProductForm, {\n      saveProduct: this.saveProduct,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Get Product\"), React.createElement(GetProductForm, {\n      getProducts: this.getProducts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(GetProductsTable, {\n      products: this.state.products,\n      deleteProduct: this.deleteProduct,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), \" \"), \" \");\n  }\n\n}\n\nexport default Admin;","map":{"version":3,"sources":["C:\\Users\\liamr\\Desktop\\coding_temple\\week_7\\ecommerce_website\\frontend\\src\\views\\admin\\index.js"],"names":["React","Component","AddProductForm","GetProductsTable","GetProductForm","Admin","constructor","saveProduct","e","preventDefault","title","target","elements","value","price","description","image_url","URL","response","fetch","data","json","success","alert","error","getProducts","console","log","products","setState","deleteProduct","id","window","confirm","state","filter","product","product_id","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,cAAP,MAA2B,iCAA3B;;AAEA,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;AAC5BK,EAAAA,WAAW,GAAG;AACZ;;AADY,SAQdC,WARc,GAQA,MAAMC,CAAN,IAAY;AACxBA,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAIC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBF,KAAlB,CAAwBG,KAApC;AACA,UAAIC,KAAK,GAAGN,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBE,KAAlB,CAAwBD,KAApC;AACA,UAAIE,WAAW,GAAGP,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBG,WAAlB,CAA8BF,KAAhD;AACA,UAAIG,SAAS,GAAGR,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBI,SAAlB,CAA4BH,KAA5C;AAEA,UAAII,GAAG,GAAG,gCAAV;AAEA,UAAIC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,EAAM;AAC9B,kBAAU,MADoB;AAE9B,mBAAW;AACT,0BAAgB,kBADP;AAET,mBAASP,KAFA;AAGT,mBAASI,KAHA;AAIT,yBAAeC,WAJN;AAKT,uBAAaC;AALJ;AAFmB,OAAN,CAA1B;AAWA,UAAII,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAjB;;AAEA,UAAID,IAAI,CAACE,OAAT,EAAkB;AAChBC,QAAAA,KAAK,WAAIH,IAAI,CAACE,OAAT,EAAL;AACD,OAFD,MAEO,IAAIF,IAAI,CAACI,KAAT,EAAgB;AACrBD,QAAAA,KAAK,WAAIH,IAAI,CAACI,KAAT,EAAL;AACD,OAFM,MAEA;AACLD,QAAAA,KAAK,CAAC,mBAAD,CAAL;AACD;AACF,KAtCa;;AAAA,SA0CdE,WA1Cc,GA0CA,MAAMjB,CAAN,IAAY;AACxBA,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAIC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASC,QAAT,CAAkBF,KAAlB,CAAwBG,KAApC;AAGA,UAAII,GAAG,GAAG,oCAAV;AAEA,UAAIC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,EAAM;AAC9B,kBAAU,KADoB;AAE9B,mBAAW;AACT,0BAAgB,kBADP;AAET,mBAASP;AAFA;AAFmB,OAAN,CAA1B;AAQA,UAAIU,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAjB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;;AACA,UAAIA,IAAI,CAACQ,QAAT,EAAmB;AACjB;AACA,YAAIA,QAAQ,GAAGR,IAAI,CAACQ,QAApB;AAEA,aAAKC,QAAL,CAAc;AAAED,UAAAA;AAAF,SAAd;AACD;AACF,KAlEa;;AAAA,SAoEdE,aApEc,GAoEE,MAAMC,EAAN,IAAa;AAC3B;AACA;AACA,UAAI,CAACC,MAAM,CAACC,OAAP,CAAe,+CAAf,CAAL,EAAsE;AACpE;AACD;;AAED,UAAIhB,GAAG,GAAG,kCAAV;AAEA,UAAIC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,EAAM;AAC9B,kBAAU,QADoB;AAE9B,mBAAW;AACT,0BAAgB,kBADP;AAET,wBAAcc;AAFL;AAFmB,OAAN,CAA1B;AAQA,UAAIX,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAjB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;;AACA,UAAIA,IAAI,CAACE,OAAT,EAAkB;AAChB,YAAIM,QAAQ,GAAG,KAAKM,KAAL,CAAWN,QAA1B;AACAA,QAAAA,QAAQ,GAAGA,QAAQ,CAACO,MAAT,CAAgBC,OAAO,IAAIA,OAAO,CAACC,UAAR,KAAuBN,EAAlD,CAAX;AAEA,aAAKF,QAAL,CAAc;AAAED,UAAAA;AAAF,SAAd;AAEAL,QAAAA,KAAK,CAAC,mCAAD,CAAL;AACD,OAPD,MAOO;AACLA,QAAAA,KAAK,CAAC,6CAAD,CAAL;AACD;AACF,KAjGa;;AAGZ,SAAKW,KAAL,GAAa;AACX,kBAAY;AADD,KAAb;AAGD;;AA6FDI,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE,oBAAC,cAAD;AAAgB,MAAA,WAAW,EAAE,KAAK/B,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHF,EAIE,oBAAC,cAAD;AAAgB,MAAA,WAAW,EAAE,KAAKkB,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAME,oBAAC,gBAAD;AACE,MAAA,QAAQ,EAAE,KAAKS,KAAL,CAAWN,QADvB;AAEE,MAAA,aAAa,EAAE,KAAKE,aAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF,MADF,MADF;AAiBD;;AAtH2B;;AAyH9B,eAAezB,KAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './index.css';\r\nimport AddProductForm from '../../components/addProductForm';\r\nimport GetProductsTable from '../../components/getProductsTable';\r\nimport GetProductForm from '../../components/getProductForm';\r\n\r\nclass Admin extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      'products': []\r\n    }\r\n  }\r\n\r\n  saveProduct = async(e) => {\r\n    e.preventDefault();\r\n\r\n    let title = e.target.elements.title.value;\r\n    let price = e.target.elements.price.value;\r\n    let description = e.target.elements.description.value;\r\n    let image_url = e.target.elements.image_url.value;\r\n\r\n    let URL = 'http://localhost:5000/api/save';\r\n\r\n    let response = await fetch(URL, {\r\n      \"method\": \"POST\",\r\n      \"headers\": {\r\n        \"Content-Type\": \"application/json\",\r\n        \"title\": title,\r\n        \"price\": price,\r\n        \"description\": description,\r\n        \"image_url\": image_url,\r\n      }\r\n    });\r\n\r\n    let data = await response.json();\r\n\r\n    if (data.success) {\r\n      alert(`${data.success}`);\r\n    } else if (data.error) {\r\n      alert(`${data.error}`);\r\n    } else {\r\n      alert('Try again, sorry!')\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getProducts = async(e) => {\r\n    e.preventDefault();\r\n\r\n    let title = e.target.elements.title.value;\r\n\r\n\r\n    let URL = 'http://localhost:5000/api/retrieve';\r\n\r\n    let response = await fetch(URL, {\r\n      \"method\": \"GET\",\r\n      \"headers\": {\r\n        \"Content-Type\": \"application/json\",\r\n        \"title\": title,\r\n      }\r\n    });\r\n\r\n    let data = await response.json();\r\n    console.log(data)\r\n    if (data.products) {\r\n      //store only products into variable\r\n      let products = data.products;\r\n\r\n      this.setState({ products });\r\n    }\r\n  }\r\n\r\n  deleteProduct = async(id) => {\r\n    // console.log('inside delete product');\r\n    // console.log();\r\n    if (!window.confirm('Are you sure you want to delete this product?')) {\r\n      return;\r\n    }\r\n\r\n    let URL = 'http://localhost:5000/api/delete';\r\n\r\n    let response = await fetch(URL, {\r\n      \"method\": \"DELETE\",\r\n      \"headers\": {\r\n        \"Content-Type\": \"application/json\",\r\n        \"product_id\": id\r\n      }\r\n    });\r\n\r\n    let data = await response.json();\r\n    console.log(data);\r\n    if (data.success) {\r\n      let products = this.state.products;\r\n      products = products.filter(product => product.product_id !== id);\r\n\r\n      this.setState({ products });\r\n\r\n      alert('Successfully deleted the product.');\r\n    } else {\r\n      alert('Sorry, but we could not delete the product.');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3\">\r\n            <h1>Add Product</h1>\r\n            <AddProductForm saveProduct={this.saveProduct} />\r\n            <h1>Get Product</h1>\r\n            <GetProductForm getProducts={this.getProducts}\r\n            />\r\n            <GetProductsTable\r\n              products={this.state.products}\r\n              deleteProduct={this.deleteProduct}\r\n            />\r\n          </div> {/* ends col */}\r\n        </div> {/*ends row */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}